#!/bin/bash
# encrypt with public key

# Generate a PKCS8 Version of Your Public Key
ssh-keygen -e -f ./id_rsa.pub -m PKCS8 > ./id_rsa.pub.pkcs8

# Encrypt message.txt
openssl rsautl -encrypt -pubin -inkey ./id_rsa.pub.pkcs8 -in message.txt -out message.enc-with-pub.txt

# cleanup
rm -f ./id_rsa.pub.pkcs8

